Miért indul lassan a Firefox 3.5?

Egy szûz telepítésû Firefox 3.5 böngészõtõl elvárható, hogy villámgyorsan mûködjön. Sok esetben ez is történik, pillanatok alatt elindul, az oldalak betöltése és renderelése szintén pattogós -- hogy egy masszív, hatalmas elõzményekkel és tucatnyi bõvítménnyel terhelt profil migrálásával már lelassul, és ugyanúgy nem tudja megakadályozni a memóriaszivárgást, mint a korábbi kiadások, már egy másik történet. Sok felhasználónál azonban már a kezdeti használat is kínkeservesnek bizonyult, a Firefox 3.5 ugyanis néha hosszú másodperceket követõen indul el, egyes esetekben akár egy percig is várni kell az elsõ ablakra.
A felhasználók bejelentései és vizsgálódásai alapján úgy tûnik, hogy a probléma a Firefox egy biztonsági moduljának mûködésében, azon belül is a titkosításhoz alapvetõ véletlenszám generálás módjában rejlik. A Firefox által használt Network Security Services (NSS), mely biztonsági protokollok támogatását valósítja meg, egy érdekes, mondhatni perverz módját használja a véletlenszerûség elõállításához: az Internet Explorer és a Windows átmeneti állományait veszi alapul. Az ötlet szigorúan matematikai-statisztika szinten kiváló: az átmeneti állományok száma, tartalma és hossza elõrejelezhetetlen a különbözõ PC-k közt, hiszen a megelõzõ felhasználói aktivitás alapján képzõdik, és egy PC-n is dinamikusan változik.

A mutatvány ott bukik meg, hogy ezek az átmeneti adatokat tartalmazó könyvtárak akár sokszáz megabájtra is duzzadhatnak, így a beolvasásuk rengeteg idõt vehet igénybe a merevlemezek viszonylagos lassúsága miatt. Az összesített méret még nem volna akkora probléma, a több ezer kisméretû fájl azonban fizikailag többnyire a merevlemezen szétszórva található, ami magától értetõdõen lelassítja a beolvasási folyamatot. Az átmeneti megoldás, míg a javítás el nem készül, ebbõl fakadóan egyszerû: törölni kell az Internet Explorer által tárolt átmeneti adatokat, valamint a Windows hasonló könyvtárát, majd beállítani, hogy ezeknek a mérete ne haladjon meg egy ésszerû mértéket -- mondjuk 100 megabájtot.
Közeleg a patch is
A Firefox Windows alatt alapvetõen a CryptoAPI-ra támaszkodik, ez azonban nincs minden telepítésen jelen, ezért az NSS-ért felelõs csapat alternatív megoldás után nézett, és ez szülte meg ezt a megoldást, mely jelenlegi, kontrollálatlan formájában problémákat okoz azoknál, akiknek nagyméretû IE cache és Windows temp könyvtáraik vannak. A Mozilla már tesztel egy javítást, árulta el a német hese Security számára a szervezet részérõl Johnathan Nightingale, mely javítás egyébként visszatér a CryptoAPI alapértelmezett használatára, és csak akkor fordul a merevlemezen tárolt átmeneti adatok felé, ha az nincs jelen a rendszerben.
A javítás várhatóan a Firefox 3.5.1 kiadással érkezik majd, mégpedig ezen a héten még. A tapasz számos biztonsági hibát is foltozni fog várhatóan, köztük egy kritikusat, mellyel egy megfelelõen felkészített JavaScript kóddal túlcsordulásos támadást lehet intézni a Firefoxon keresztül, és tetszõleges kódot végrehajtatni a gazdagépen -- már mûködõ exploitot is publikáltak a milw0rmön. A Firefox 3.5 ezt követõ frissítése, a  3.5.2 nagyjából két hét múlva esedékes.
Linux és MacOS X platformokon értelemszerûen nem jelentkezik ilyen formájában ez a probléma, mivel azt a Windows nagyra duzzadt átmeneti adatai okozzák, ugyanakkor egyes maces felhasználók is panaszkodnak ugyanerre a jelenségre, pedig ott a célt szolgáló /dev/urandom fájlt használja a szoftver.	     
                  
                  
                  
                   