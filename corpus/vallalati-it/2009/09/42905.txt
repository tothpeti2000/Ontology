Csúcskategóriás képességek a Fujitsu belépõ szintû tárolóitól

Az Eternus márkát eddig Japánban és az Egyesült Államokban használta a Fujitsu, míg Európában  a FibreCAT képviselte a céget a kisebb diszktömbök piacán. Az új Eternusok az elsõ olyan tárolói a cégnek, melyeket globálisan forgalmaz, árulta el Taál János, a Fujitsu termékmenedzsere. A jövõben a belépõkategóriás szegmensben a FibreCAT kiszorul, 2009 végével befejezõdik az SX100 és SX80 értékesítése, míg az iSCSI változatoké 2010 márciusával. Helyükre az Eternus DX60 és DX80 érkezik, melyek a Fujitsu tárolókínálatának alját képviselik. "Nagyon sokat várunk ettõl a termékcsaládtól. Az adattárolás piaca egy izgalmas, átalakuló piac" - fogalmazott a bejelentésen Poros Gábor, a Fujitsu magyarországi leányának ügyvezetõ igazgatója.
Itthonra komoly
 
Mindez azonban nem jelenti azt, hogy ezek a tárolók ne lennének bevethetõek akár közepes vagy nagyobb terhelésû nagyvállalati környezetben, legalábbis magyarországi értelemben. A globális piacra megszabott méretek jellemzõen több számmal nagyobbak a hazai "cipõknél". Nincs ez másként most sem, a DX60 24 darab hot-swap 15k-s SAS vagy Nearline SAS diszket képes fogadni, és azokat négy darab 4 Gb/s FibreChannel porton kiszolgálni, míg a 10 dobozig modulárisan skálázható DX80 már 120 diszket és akár 8 Gb/s FC portokat is kezelhet, amelyek a FibreCAT SX80-hoz képest másfélszeres átviteli sebességre nyitnak lehetõséget. SAS diszkekkel 10,8 és 54 terabájtnyi, a SATA-alapú Nearline SAS diszkekkel pedig 24 és 120 terabájt nyers kapacitás építhetõ ki jelenleg.

Az FC portok mellett a DX-eket lehet konfigurálni iSCSI és SAS csatlakozásokkal is, így nem szükséges SAN ahhoz, hogy alkalmazni lehessen az Eternusokat, NAS-ként is funkcionálhatnak, vagy a nagyobb teljesítmény érdekében közvetlenül a szerverre köthetjük õket. Teljesen populálva a DX80 már elegendõ IOPS teljesítménnyel rendelkezik, hogy komolyabb vállalati OLTP alkalmazásokat is kiszolgáljon, bár Taál szerint ilyen feladatokra valószínûleg már nagyobb tárolókat választanak az ügyfelek, akiknek a Fujitsu saját eszközi mellett az EMC-tõl és a NetApptól beszerzett tárolókat is kínál.

Novembertõl SSD-kkel is lehet rendelni az Eternusokat, 100 és 200 gigabájtos kiszerelésekben. Ezeket nem cache-ként, hanem teljes értékû diszkekként lehet alkalmazni, tovább fokozva a mûveletvégzési sebességet - aranyárban, az SSD-k darabja ugyanis 3,1 és 4,7 millió forint körül alakulhat listaáron. Ezt az magyarázza, hogy tranzakcionális környezetben az STEC által szállított brutális SSD-k akár több tucat, extrém esetben akár több mint 100 darab 15 ezres fordulatú SAS diszket válthatnak ki I/O-sebességben. Amennyiben egy SSD egy teljesen populált bõvítõmodult feleslegessé tesz, úgy már pénzünknél vagyunk, ha kettõt vagy többet, akkor már rengeteget nyertünk. Az Eternusok képesek keverve is kezelni a lemezeket,  természetesen más és más RAID-tömbökben, így egyszerre használhatunk SSD-ket, SAS és Nearline SAS meghajtókat is.
Majdnem high-end RAS
Az Eternus DX-ek teljesen redundáns felépítéssel rendelkeznek a kritikus alkatrészekre, így a kontrollerek és a tápegységek is kettõzöttek, és az alkotóelemek pedig üzem közben cserélhetõk, ahogyan a firmware-eket is lehet leállítás nélkül frissíteni. A megbízhatóságot és rendelkezésre állást egyaránt segíti a FibreCAT-ekben már korábban is ismert szuperkondenzátoros védelem, mely áramkimaradás esetén (miután a szünetmentesek már kimerültek), képes annyi ideig energiával ellátni a rendszert, hogy a kontrolleren található cache tartalmát kiírja egy NAND flash chipre, így megvédve a rendszert az adatvesztéstõl. Miután ismét van áramellátás, a kondenzátor 1 perc alatt újra feltöltõdik, vagyis visszaállhat az éles üzem, nem kell várni az akkumulátorokra.
Az új Eternusokban elérhetõ az a technika is, mely képes a SMART-értékek alapján prognosztizálni, ha az egyik merevlemez várhatóan meghibásodik, például a növekvõ olvasási hibák alapján. Ekkor a vezérlõ kivonja az érintett RAID tömbbõl a botladozó diszket, és átmásolja annak tartalmát a tartalékra, majd a tartalékot bevonja a tömbbe, és újraépíti azt, mindenféle külsõ beavatkozás nélkül. A rendelkezésre állást fokozza az is, hogy lehetséges az egy LUN alatt lévõ RAID-tömb szintjét megváltoztatni, amennyiben megfelelõ mennyiségû tartalék lemez található a rendszerben (RAID Migration), vagyis RAID 5-bõl például a nagyobb biztonság érdekében RAID 0+1-be mozgathatjuk a LUN-t.

További bizalmi pont, hogy a vezérlõ az adatforgalmat az Eternusokon belül ECC-vel védi, méghozzá 512 bájtonként 8 bájttal, így biztosítva, hogy biztosan olyan adatot olvasunk ki a lemezrõl vagy a cache-bõl, mely megegyezik azzal, mely beérkezett. A kontroller mindezt teljesen transzparens módon teszi, futásidõben. Az Eternusok továbbá képesek a lemezre tárolt adatokat titkosítani is LUN-onként egyedileg generált kulcsok segítségével, így megakadályozható, hogy a diszkek rossz kezekbe kerülésével az adatok kiolvashatóak maradjanak. A hátrány, hogy ez némileg csökkenti a vezérlõ teljesítményét.
Ahhoz képest, hogy az Eternusokat belépõszintre szánták, a mainframe-eken kívül praktikusan bármilyen környezetben használhatjuk õket, legyen szó AIX, HP-UX vagy Solaris UNIX-okról, Linux vagy Windows szerverekrõl, vagy VMware infrastruktúráról. Szintén tipikusan nagyvállalati igény, hogy az adatbázis-kezelõk vagy operációs rendszerek frissítése elõtt ki kell tesztelni a patchelt változat viselkedését, amit a legjobban egy kvázi éles rendszeren tehetünk meg.
Ekkor nagy segítség a snapshotok használata, melyek lényegében egyfajta historikus pointereket helyeznek el a tárterületen az eredeti adatok felé. Ez azt jelenti, hogy a másolat valójában eleinte szinte semmiféle tárhelyet nem igényel, csak azokat az adatokat másolja át az eredeti példányról, melyek ott, az eredeti tárhelyen írás miatt megváltoznának (így historikus adatokká válnak), valamint miután ráeresztettük a tesztelni kívánt szoftvereket a snapshot tárhelyre, az általuk eszközölt változásokat is le kell tárolni - ez az úgynevezett branching snapshot, vagyis elágazó pillanatkép. A DX60 és DX80 ugyanazzal a SnapOPC+  snapshot mechanizmussal rendelkezik, mint a cég felsõkategóriás Eternus tárolói, mint például a teljesen megpakolva tizenegy tonnás 8000 Model 2200.
Taál szerint amiért a DX80 nem jogosult arra, hogy különösen kritikus rendszereket szolgáljon ki, még ha a teljesítménye és megbízhatósága megfelelõ is volna, az az, hogy nem rendelkezik a megfelelõ katasztrófatûrõ szolgáltatásokkal, melyekkel például földrajzilag elosztott szinkronmásolatok készíthetõk. Ezzel együtt is a DX80 elég ütõképesnek tûnik ahhoz, hogy akár egy SAN részeként, akár direkt csatolású tárolóként szolgáljon akár "nagygépes" UNIX-környezetben is, mivel kapacitása és teljesítménye is megfelelõ ahhoz, hogy üzleti alkalmazásokat vagy backup megoldást szolgáljon ki. Eközben a DX60 pedig a kisebb igényeket fedi le, de szolgáltatásokban ugyanazt a magas, több ponton felsõkategóriás szintet kínálva. Utóbbival foglalkozni csak akkor érdemes, ha biztosan nem nõjük ki, ugyanis a DX80 belépési ára alig, mintegy 20 százalékkal magasabb az online árlisták alapján, ami rendre mintegy 1,5 és 1,8 millió forintot jelent. További információ erre (PDF).	     
                  
                  
                  
                   