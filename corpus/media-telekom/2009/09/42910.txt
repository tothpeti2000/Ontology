Egy év múlva elfogyhatnak az IPv4-címek

Vint Cerf, aki részt vett a TCP/IP szabvány lefektetésében, a napokban ismét hangoztatta azt, amirõl már évek óta beszélnek a szakmában: rohamosan kifogyunk az IPv4 tartományból, amire egyetlen megfelelõ választ az IPv6-ra történõ áttérés adhat. A veterán a Szilícium-völgyben található Mountain View-ban, az internet születésének 40. évfordulója alkalmából szervezett iparági találkozón beszélt arról, hogy a jelenlegi trendek mellett 2011 elejére szûkössé válhat az IPv4.
Ezt bár átmenetileg lehet kezelni különféle technikákkal, az okos dolog azonban az IPv6-ra történõ áttérés volna, mely praktikusan végtelen IP-cím kiosztását teszi lehetõvé. "Eszközök milliárdjait és milliárdjait fogjuk látni a neten" - jósolja Cerf. Hasonló véleményen vannak mások is, az OECD (Nemzetközi Fejlesztés és Együttmûködés Szervezete) egy tavalyi tanulmánya is arra a következtetésre jutott, hogy az IPv4 címtartomány 2011-re kifogy. Az internet legfelsõbb szintû tartományait felügyelõ Internet Corporation for Assigned Names and Numbers (ICANN) és az IDC is úgy véli, 2010 és 2012 között valamikor elfogynak a szabad címek.
Történelem
1981-ben szabványosították az Internet Protokollt, vagyis az IP-t. Ugyan akkor még nem tudták megmondani hogy mikor, de ma már tudjuk, hogy igen hamar ki fogunk fogyni a hálózatra kötött eszközök azonosítására szolgáló címekbõl. Az elméleti maximum pontosan 4 milliárd 294 millió 967 ezer 296 darab variáció. Jövõre nem ezt a maximumot éri el az internet, de a címkiosztási gyakorlatból fakadóan elérkezik az IPv4 végzete.
1993 elõtt a címeket nagyobb blokkokban osztották ki, mivel az útválasztó-protokollok a maihoz képest még technológiailag korlátozottak voltak. A 90-es évek végén, az internet széles körû terjedésével egyre több, és több címre volt szükség, ezt sok helyen NAT segítségével próbálták áthidalni. A belsõ hálózatokon lógó gépeket el lehet rejteni a NAT (Network Address Translation) segítségével egyetlen IP-cím mögé, megspórolva ezzel sok-sok címet, de ezzel együtt elveszik az egyedi eszközök azonosíthatósága. A NAT bevezetésével a hálózati eszközök képessé váltak átcímezni a bejövõ és kimenõ forgalmat, feleslegessé téve azt, hogy egy több száz vagy ezer gépes hálózat ugyanennyi címet használjon el.
2005-ben már tisztán látszott, hogy a 32 bites címzési rendszer nemhogy évtizedekig, de alig pár évig húzza már, köszönhetõen a mobil forradalomnak és annak, hogy mára 1,5 milliárd ember internetezik. Szerencsére nem lesz világvége, sõt az internet már jó ideje készül a váltásra, s az IPv4-et felváltó IPv6 már biztosra megy, s emberi léptékkel szinte értelmezhetetlen mennyiségû variációt tesz lehetõvé. Mondhatni, az IPv6-tal a Szahara minden porszemének lehetne saját IP-címe. Amire szükség is lehet, amennyiben a NAT helyett valódi saját címet szeretnénk minden hálózaton lógó eszköznek. PC-nek, szervernek, hálózati eszközöknek, mobiltelefonnak, médialejátszónak, háztartási gépnek, az autóknak vagy bárminek, ami elektromossággal mûködik és programozni szeretnénk, vagy kommunikálni akarunk vele.
Kõbe vésett felosztások
Az IANA (Internet Assigned Numbers Authority) az a szervezet, amely ellenõrzi az IPv4-es címtartományokat, öt osztályba sorolta az IP-ket tartományonként: 0-127 (A), 128-191(B), 192-223(C), 224-239(D) és 240-255(E). Ezek közül a D csoport a multicast forgalomra van fenntartva, amikor egy küldött csomag több címzetthez megy, az E csoportot pedig az idõk kezdete óta blokkolják, s állítólag nem lehetne minden eszközt átállítani, hogy használhatóvá váljon ez a tartomány, mielõtt elfogynak a címek. Így az E osztály sosem lesz használatban. Az A osztályban három speciális cím van, amik miatt szintén kiesnek tartományok: a 0.0.0.0 az alapbeállítású útvonalválasztót jelöli, a 127.0.0.1 a localhostot, azaz a saját gépet, a 10.x.x.x pedig a privát címzésre van fenntartva.
Így maradt 221 használható tartomány az A, B és C osztályokban. Jelenleg ezek közül 101 van kiosztva általános használatra, 92 a régi leosztás "öröksége" és csak 28 szabad. Az elsõ 101 "lefoglalt" tartomány mindegyikét az öt regionális internethivatal (RIR) valamelyike kezeli, s osztja tovább a szolgáltatóknak. Az "örökség" kategória 92 tartományát többek közt az Egyesült Államok kormánya kapta meg közvetlenül (körülbelül 10-et), illetve az olyan nagy szervezetek, mint az IBM, Apple, DEC, HP, MIT, vagy egyéb nagy egyetemek és kutatóközpontok.
Még 788 millió szabad IP-cím
A maradék 28 tartomány viszont egyáltalán nincs felhasználva, ezek képviselik az IPv4 címek tartalékait. Ezt a tartalékot IANA global poolnak hívják, s mintegy 470 millió szabad címbõl áll. Ezen túl a RIR-ek kezelésében lévõ címek mindegyike sincs kiosztva, Afrikában például 12 millió IP-címet használnak, s 21 millió van szabadon az ottani szervezetnél. Ázsiában viszont 511 millió van kiosztva és csak 60 millió maradt, az "örökség" kategóriában pedig 1,41 milliárd van kiosztva és 133 millió van szabadon. Összesen a világon jelenleg 2,919 milliárd IP-címnek van gazdája, s 788 millió van még szabadon (a két szám összege a különleges megállapodások és gyakorlatok miatt nem egyezik az elméleti maximummal).

Forrás: Ars Technica
A RIR-ek kilenc hónapra elegendõ címet tartanak fent, amikor ez alá esnek, akkor minden esetben két új tartományt kérvényeznek. A kilenc hónap alatt Észak-Amerikában, vagy az Európát, volt Szovjetuniót és a Közel-Keletet tömörítõ régióban egyébként éppen két egységnyi cím fogy el, Dél-Amerikában egy fél, Afrikában pedig alig néhány millió cím összesen. Ázsia viszont egyedül elvisz ennyi idõ alatt négyet, hisz ki kell elégíteni a kínai és indiai lakosság igényeit. Egy korábbi megállapodás szerint amikor elfogynak a szabad tartományok, akkor minden RIR kap egyet még utoljára. Ezzel kalkulálva pedig jövõ év végére, de ha a tempó a mostani szinten marad, másfél éven belül elfogy a most meglévõ 28 maradék tartomány.
Ázsia, Amerika és Európa lába alatt ég a talaj
Dél-Amerikában és Afrikában olyan kicsi a növekedés, hogy akár évekig is kihúznák, de a többi RIR-nek már 1, maximum két éve van csak. Ha az IPv6-os átállás nem történik meg, akkor még az "örökség" kategóriában lévõ maradékokat kaparhatnák össze. A baj viszont az, hogy az utolsó martalékok kiosztása nehézségekbe ütközik, fõként Európában és Amerikában, ahol a szabályozások az új igénylésekkel kapcsolatban egyre szigorúbbak lettek, ahogy fogytak a címek. Sõt, az USA-ban az ottani RIR, az ARIN tagjainak mindössze egy százaléka viszi el az igényelt címek nyolcvan százalékát, a nagy internetszolgáltatók.
Ha elérünk oda, hogy a nagy, félmillió címnél nagyobb blokkok elfogynak, akkor egyre nehezebb lesz kiszolgálni az igényeket. Egyesek szerint az lenne a megoldás, ha a tartományokkal kereskedni lehetne, s így még ki lehetne húzni egy ideig. Az Egyesült Államok kormányának is van 150 millió IP-címe, illetve a HP-nak is 33 millió, amibõl bizonyára nincs szükség mindegyikre. Akik pedig egy óriás szervert szeretnének bekötni, azok bizonyára szívesen fizetnének akár 10 vagy 100 dollárt is egy IP-címért. Az címkereskedelemhez viszont komoly vizsgálatokra lenne szükség a nagyoknál, hogy a tûzfalak vagy az alkalmazások szûrõi nem kezelik-e kivételként ezeket a tartományokat, különben komoly biztonsági rizikója lenne az üzletnek. Ez pedig az árakat eléggé megnövelhetné, akár irreális magasságokba taszítva azt.
A nagy szolgáltatók zabálják a készletet
Amennyiben az internetszolgáltatók felélik készleteiket, akkor nem tudnak majd több egyedi IPv4-címet adni minden egyes ügyfélnek. A nyilvánvaló megoldás az lehetne, hogy az újak már az IPv6-os változatokból kapnának, de ez azért nem lehetséges, mert a hálózat és a szolgáltatások nagyrésze továbbra sincs felkészítve az átállásra, s egyes eszközök nem lennének képesek mûködni. Ilyenek lehetnek például egyes okostelefonok, VoIP-telefonok és webkamerák. Ebbõl a kanyarból pedig a jelenlegi állás szerint csak úgy lehetne kijönni, ha a szolgáltatók CGN-eket (Carrier grade NAT) vezetnének be.

Ez pedig nem csak az új felhasználókat fogja érinteni, hanem a meglévõeket is, mert a szolgáltatók egy része bizonyára visszaveszi majd az egyedi IP-cím lehetõségét, hogy elláthassa a CGN-t elegendõ címmel. Felhasználói szempontból ez azt jelentené, hogy a web és az e-mail teljesen jól mûködne, viszont a  VoIP-alkalmazások vagy éppen a BitTorrent már gondokkal küzdhet. A Skype például relékké (supernode) tesz publikus IP-vel rendelkezõ felhasználókat, hogy összekösse a NAT mögötti lévõket.
IPv6 kell
Az OECD felhívja arra a figyelmet, hogy a NAT-ot egy átmeneti és olcsó megoldásként fejlesztették ki a múlt évtizedben az IPv4 címtartomány korlátoltsága miatt, ugyanakkor messze nem ideális megoldás. A NAT-implementációkra nem létezik szabvány, ezért az IT-szállítók és az ügyfelek jelentõs erõforrást fordítanak a megfelelõ konfigurációra különféle hibajelenségek elkerülésére, mely fõleg a p2p-kapcsolódást igénylõ kommunikációs és adatmegosztó alkalmazásoknál jelentkezik. A NAT a fordítás jelentette számítási teljesítmény miatt ráadásul extra költséget jelentõ erõsebb hardvert kíván meg.
A NAT nem ad választ a szerverek jelentette növekvõ IP-cím igényre sem, ahogyan az internet mobilizálódására sem, ahol praktikus volna állandó IP-címeket rendelni a mobiltelefonokhoz, notebookokhoz, gépjármûvekhez is. A dinamikus IP-cím számos online alkalmazást kapcsolatbontásra késztet, a kiosztása lassú, ezért folyamatos online jelenlétet követel meg az eszközöktõl, ami fogyasztást jelent, így rontja az akkumulátoros üzemidõt. A csatlakozó eszközök számának jósolt robbanásszerû növekedésével pedig elõbb-utóbb a szolgáltatók belsõ tartományai is kifogynak, így többszintû CGN hierarchiát kellene kiépíteni, tovább fokozva a rendszer komplexitását, törékenységét - szemben az IPv6 "lapos", elegáns válaszával.
Az OECD szerint a kormányzatnak kell vezetnie az átállást, mégpedig azáltal, hogy a beszerzéseknél és publikus-privát projekteknél megkövetelik az IPv6-ot, egyúttal megkezdik saját infrastruktúrájuk IPv6-ra történõ átterelését. Az IPv6-ot támogatta az ICANN azon tavalyi lépése, hogy a 13 root DNS-szerverbõl hatot IPv6 címmel is ellátott. Most már az ISP-ken a sor, hogy megkezdjék az IPv6 támogatását, és modern operációs rendszerek számára már ebben a tartományban (is) osszon címet, miközben a két világ közti átjárást csomagolási és megfeleltetési technikákkal kezelni lehet.	     
                  
                  
                  
                   